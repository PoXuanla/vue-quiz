(function(e){function t(t){for(var r,i,a=t[0],u=t[1],c=t[2],l=0,p=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},o=[];function i(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"aaf97844"}[e]+".js"}function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=i(e);var c=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}s[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-quiz/",a.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1b15":function(e,t,n){"use strict";n("d613")},3571:function(e,t,n){"use strict";n("c7c2")},"37b7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"nav bg-dark-pink"},[n("div",{staticClass:"ml-1"},[n("router-link",{staticClass:"a",attrs:{to:"/"}},[e._v("答題小測驗")])],1)]),n("div",{staticClass:"w-70 m-auto mt-1 border-radius overflow-hidden",attrs:{id:"main"}},[n("router-view")],1)])},o=[],i={},a=i,u=(n("5c0b"),n("2877")),c=Object(u["a"])(a,s,o,!1,null,null,null),l=c.exports,d=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"p-1 bg-pink"},[n("div",{staticClass:"d-flex flex-column w-70 m-auto"},[n("div",{staticClass:"d-flex flex-column"},[n("label",{staticClass:"mb-1 mt-1"},[e._v(" 分類 ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.quizType.selectedCategory,expression:"quizType.selectedCategory"}],staticClass:"select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.quizType,"selectedCategory",t.target.multiple?n:n[0])}}},[e.category.length<=0?n("option",{attrs:{value:"-1"}},[e._v("加載中...")]):e._e(),n("option",{attrs:{value:"0"}},[e._v("Any")]),e._l(e.category,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)]),n("div",{staticClass:"d-flex flex-column"},[n("label",{staticClass:"mb-1 mt-1"},[e._v(" 困難度 ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.quizType.selectedDiff,expression:"quizType.selectedDiff"}],staticClass:"select",attrs:{name:"diff"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.quizType,"selectedDiff",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("無限制")]),n("option",{attrs:{value:"easy"}},[e._v("簡單")]),n("option",{attrs:{value:"medium"}},[e._v("一般")]),n("option",{attrs:{value:"hard"}},[e._v("困難")])])]),n("div",{staticClass:"d-flex flex-column"},[n("label",{staticClass:"mb-1 mt-1"},[e._v(" 答題模式 ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.quizType.selectedMode,expression:"quizType.selectedMode"}],staticClass:"select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.quizType,"selectedMode",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("無限制")]),n("option",{attrs:{value:"boolean"}},[e._v("True/False")]),n("option",{attrs:{value:"multiple"}},[e._v("多選")])])]),n("div",{staticClass:"d-flex justify-center"},[n("router-link",{attrs:{to:{name:"Question",params:{quizType:e.quizType}}}},[n("button",{staticClass:"btn mt-1 mb-1"},[e._v("Go!")])])],1)])])])},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-1 bg-green"},[n("p",{staticClass:"text-center"},[e._v("答題測驗")])])}],v={name:"Home",data:function(){return{category:[],quizType:{selectedCategory:-1,selectedDiff:"",selectedMode:""}}},components:{},mounted:function(){var e=this;this.$store.commit("arrivedHome"),this.$http.get("https://opentdb.com/api_category.php").then((function(t){console.log(t),e.category=t.data.trivia_categories,e.quizType.selectedCategory=0})).catch((function(e){console.log(e)}))}},m=v,h=(n("3571"),Object(u["a"])(m,p,f,!1,null,"e558a3d8",null)),g=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"p-1 bg-green d-flex justify-around"},[n("div",[e._v(e._s(e.currentQuestion.category))]),n("div",[e._v(e._s(e.currentQuestion.difficulty))])]),n("div",{staticClass:"p-1 bg-pink"},[n("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),n("div",{staticClass:"d-flex flex-column w-70 m-auto font-weight-900"},[e._v(" "+e._s(e.currentQuestion.question)+" ")]),n("hr",{staticClass:"hr"}),n("div",{staticClass:"d-flex flex-column align-items-center"},[e._l(e.currentQuestion.ramdomAnswer,(function(t){return n("option-data",{key:t,class:{active:t===e.selectOption},attrs:{value:t},on:{selfClick:e.optionClick}})})),n("div",[9===e.currentIndex?n("button",{staticClass:"btn mt-1 mb-1",attrs:{disabled:""===e.selectOption},on:{click:function(t){return e.goAnswerPage()}}},[e._v(" 提交 ")]):n("button",{staticClass:"btn mt-1 mb-1",attrs:{disabled:""===e.selectOption},on:{click:function(t){return e.nextQuestion()}}},[e._v(" 下一題 ")])])],2)],1)])},_=[],w=(n("ac1f"),n("5319"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-50 text-center bg-purple border-radius p-1 mb-1",on:{click:e.onClick1}},[e._v(" "+e._s(e.value)+" ")])}),y=[],C={name:"OptionData",props:["value"],methods:{onClick1:function(){console.log(""),this.$emit("selfClick",this.value)}}},x=C,q=(n("e9af"),Object(u["a"])(x,w,y,!1,null,"e6fc3158",null)),A=q.exports,O={name:"Question",data:function(){return{selectOption:"",question:[],currentIndex:0,currentQuestion:{},isLoading:!0}},mounted:function(){this.$store.commit("initQA");var e=this.$route.params.quizType;this.getQuestionData(e)},methods:{optionClick:function(e){console.log("parentClick"),this.selectOption=e},nextQuestion:function(){this.currentIndex+=1,this.$store.commit("pushQuestion",this.currentQuestion),this.$store.commit("pushUserAnswer",this.selectOption),this.selectOption=""},goAnswerPage:function(){this.$store.commit("pushQuestion",this.currentQuestion),this.$store.commit("pushUserAnswer",this.selectOption),this.$router.replace({name:"Answer"}),this.selectOption=""},getQuestionData:function(e){var t=this;console.log("執行getQuestionData");var n="https://opentdb.com/api.php?amount=10",r="0"===e.selectedCategory?"":"&category=".concat(e.selectedCategory),s=""===e.selectedDiff?"":"&difficulty=".concat(e.selectedDiff),o=""===e.selectedMode?"":"&type=".concat(e.selectedMode);n=n+r+s+o,this.$http.get(n).then((function(e){console.log(e.data.response_code+"code"),1===e.data.response_code?t.$router.replace({name:"Home"}):(t.question=e.data.results,t.isLoading=!1)}))},randomOption:function(){var e=[];return"True"===this.currentQuestion.correct_answer||"False"===this.currentQuestion.correct_answer?["True","False"]:(e.push(this.currentQuestion.correct_answer),this.currentQuestion.incorrect_answers.forEach((function(t){e.push(t)})),e.sort((function(){return Math.random()-.5})),console.log("array",e),e)}},watch:{question:function(){this.currentQuestion=this.question[0]},currentIndex:function(){this.currentQuestion=this.question[this.currentIndex]},currentQuestion:function(){this.currentQuestion.ramdomAnswer=this.randomOption()}},components:{optionData:A}},k=O,Q=Object(u["a"])(k,b,_,!1,null,null,null),$=Q.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"text-center p-1 bg-dark-pink border-radius-bottom"},[e._v(" 答對題數 "+e._s(e.countCorrectAnswer)+" 題 ")]),e._l(e.question,(function(t,r){return n("answer-data",{key:r,attrs:{question:e.question[r],userAnswer:e.userAnswer[r]}})}))],2)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-1 bg-green"},[n("p",{staticClass:"text-center"},[e._v("對答案~")])])}],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-purple p-1 mb-1 mt-1 border-radius answer"},[n("div",{staticClass:"text-center font-weight-900"},[e.question.correct_answer===e.userAnswer?[n("div",[e._v(" 正確 ")])]:[n("div",[e._v(" 錯誤 ")])]],2),n("div",{staticClass:"text-center font-weight-900"},[e._v(e._s(e.question.question))]),e._l(e.question.ramdomAnswer,(function(t,r){return n("div",{key:r,staticClass:"text-center p-1 border-radius",class:{"bg-green":t===e.question.correct_answer,"bg-pink":t===e.userAnswer&&t!==e.question.correct_answer}},[e._v(" "+e._s(t)+" ")])}))],2)},E=[],D={name:"AnswerData",props:["question","userAnswer"],data:function(){return{}}},P=D,M=(n("1b15"),Object(u["a"])(P,z,E,!1,null,"66924a42",null)),L=M.exports,H={name:"Answer",data:function(){return{question:[],userAnswer:[],countCorrectAnswer:0}},mounted:function(){var e=this;this.question=this.$store.state.question,this.userAnswer=this.$store.state.userAnswer,this.question.forEach((function(t,n){t.correct_answer===e.userAnswer[n]&&e.countCorrectAnswer++}))},components:{answerData:L}},S=H,I=Object(u["a"])(S,T,j,!1,null,null,null),F=I.exports,N=n("2f62");r["a"].use(N["a"]);var U=new N["a"].Store({state:{question:[],userAnswer:[],isArrivedHome:!1},mutations:{pushQuestion:function(e,t){e.question.push(t)},pushUserAnswer:function(e,t){e.userAnswer.push(t)},arrivedHome:function(e){e.isArrivedHome=!0,console.log("arrive")},initQA:function(e){e.question=[],e.userAnswer=[]}},actions:{},modules:{}});r["a"].use(d["a"]);var J=[{path:"/",name:"Home",component:g},{path:"/question",name:"Question",component:$,meta:{needLogin:!0}},{path:"/answer",name:"Answer",component:F,meta:{needLogin:!0}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],G=new d["a"]({routes:J});G.beforeEach((function(e,t,n){!0!==e.meta.needLogin||U.state.isArrivedHome||(console.log("ggg"),n({name:"Home"})),n()}));var B=G,K=n("bc3a"),R=n.n(K),V=n("2106"),W=n.n(V),X=n("9062"),Y=n.n(X);n("e40d");r["a"].use(W.a,R.a),r["a"].component("Loading",Y.a),r["a"].config.productionTip=!1,new r["a"]({router:B,store:U,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},c7c2:function(e,t,n){},d613:function(e,t,n){},e9af:function(e,t,n){"use strict";n("37b7")}});
//# sourceMappingURL=app.d1d07fc0.js.map